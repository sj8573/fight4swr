<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive T-Test</title>
  <!-- 1. è¼‰å…¥ Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 2. è¼‰å…¥ React å’Œ ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <!-- 3. è¼‰å…¥ Babel (è®“ç€è¦½å™¨çœ‹æ‡‚ JSX) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <style>
    /* éš±è—æ²è»¸ä½†ä¿æŒåŠŸèƒ½ */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>
<body class="bg-slate-50">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo } = React;

    // --- ç°¡æ˜“åœ–ç¤ºçµ„ä»¶ (å–ä»£ lucide-react ä»¥åˆ©ç›´æ¥é‹è¡Œ) ---
    const Icons = {
      BookOpen: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
      Activity: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
      Calculator: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="4" y="2" width="16" height="20" rx="2"/><line x1="8" y1="6" x2="16" y2="6"/><line x1="16" y1="14" x2="16" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>,
      HelpCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>,
      CheckCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
      XCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>,
      ArrowRight: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
      Info: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>,
      BarChart2: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>,
      Sliders: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" y1="21" x2="4" y2="14"/><line x1="4" y1="10" x2="4" y2="3"/><line x1="12" y1="21" x2="12" y2="12"/><line x1="12" y1="8" x2="12" y2="3"/><line x1="20" y1="21" x2="20" y2="16"/><line x1="20" y1="12" x2="20" y2="3"/><line x1="1" y1="14" x2="7" y2="14"/><line x1="9" y1="8" x2="15" y2="8"/><line x1="17" y1="16" x2="23" y2="16"/></svg>
    };

    // --- è¼”åŠ©å‡½å¼ ---
    const normalPDF = (x, mean, stdDev) => {
      return (1 / (stdDev * Math.sqrt(2 * Math.PI))) * Math.exp(-0.5 * Math.pow((x - mean) / stdDev, 2));
    };

    const calculateT = (m1, m2, s, n) => {
      // ç°¡åŒ–å‡è¨­ï¼šå…©çµ„è®Šç•°æ•¸ç›¸ç­‰ (Pooled Variance simplified logic for teaching)
      const se = s * Math.sqrt(2 / n);
      if (se === 0) return 0;
      return (m1 - m2) / se;
    };

    const generateNormalPath = (mean, stdDev, rangeX, heightScale) => {
      const points = [];
      const step = (rangeX[1] - rangeX[0]) / 100;
      for (let x = rangeX[0]; x <= rangeX[1]; x += step) {
        const y = normalPDF(x, mean, stdDev) * heightScale;
        points.push(`${x},${150 - y}`); // 150 is baseline Y
      }
      return `M ${points[0]} L ${points.slice(1).join(' L ')}`;
    };

    // --- è³‡æ–™ ---
    const PAGE_DATA = {
      title: "Tæª¢å®šï¼šè¨Šè™Ÿèˆ‡é›œè¨Šçš„æˆ°çˆ­",
      subtitle: "åŸºç¤çµ±è¨ˆå­¸äº’å‹•è¬›ç¾©",
      intro: "åœ¨ç¤¾å·¥å¯¦å‹™ä¸­ï¼Œæˆ‘å€‘å¸¸éœ€è¦å›ç­”ï¼šã€Œé€™å€‹æ–¹æ¡ˆçœŸçš„æœ‰æ•ˆå—ï¼Ÿã€Tæª¢å®šå°±æ˜¯å¹«åŠ©æˆ‘å€‘åˆ¤æ–·å…©çµ„æ•¸æ“šï¼ˆä¾‹å¦‚ï¼šå¯¦é©—çµ„ vs. æ§åˆ¶çµ„ï¼‰çš„å·®ç•°ï¼Œç©¶ç«Ÿæ˜¯ã€ŒçœŸå¯¦å­˜åœ¨çš„å·®ç•°ã€ï¼Œé‚„æ˜¯ã€Œæ©Ÿç‡é€ æˆçš„å·§åˆã€ã€‚",
      
      concepts: [
        {
          title: "ä»€éº¼æ˜¯ T æª¢å®šï¼Ÿ",
          content: "ç°¡å–®ä¾†èªªï¼ŒT æª¢å®šæ˜¯ç”¨ä¾†æ¯”è¼ƒã€Œå…©å€‹å¹³å‡æ•¸ã€æ˜¯å¦æœ‰é¡¯è‘—å·®ç•°çš„çµ±è¨ˆæ–¹æ³•ã€‚æƒ³åƒä½ åœ¨è©•ä¼°ä¸€å€‹ã€Œè€äººæ†‚é¬±åœ˜é«”ã€çš„æˆæ•ˆï¼Œä½ æœƒæ¯”è¼ƒã€ŒåƒåŠ çµ„ã€èˆ‡ã€Œæ²’åƒåŠ çµ„ã€çš„æ†‚é¬±åˆ†æ•¸å¹³å‡å€¼ã€‚"
        },
        {
          title: "æ ¸å¿ƒå…¬å¼çš„ç›´è§€ç†è§£",
          content: "T å€¼ = (çµ„é–“å·®ç•°) / (çµ„å…§å·®ç•°) = è¨Šè™Ÿ / é›œè¨Šã€‚\n\nç•¶ T å€¼è¶Šå¤§ï¼Œä»£è¡¨ã€Œè¨Šè™Ÿã€(æ•ˆæœ) é å¼·éã€Œé›œè¨Šã€(å¹²æ“¾)ï¼Œæˆ‘å€‘å°±è¶Šæœ‰ä¿¡å¿ƒèªªé€™å…©çµ„æ˜¯çœŸçš„ä¸åŒã€‚"
        },
        {
          title: "P å€¼çš„æ„ç¾©",
          content: "P å€¼ä»£è¡¨ã€Œå¦‚æœå…©çµ„å…¶å¯¦æ²’å·®åˆ¥ï¼Œå»å‰›å¥½æŠ½æ¨£æŠ½æˆé€™æ¨£ã€çš„æ©Ÿç‡ã€‚P å€¼è¶Šå° (< .05)ï¼Œä»£è¡¨é€™å¹¾ä¹ä¸å¯èƒ½æ˜¯å·§åˆï¼Œæˆ‘å€‘ç¨±ä¹‹ç‚ºã€Œçµ±è¨ˆé¡¯è‘—ã€ã€‚"
        }
      ],

      quizzes: [
        {
          question: "å¦‚æœ T å€¼å¾ˆå¤§ï¼ˆä¾‹å¦‚ t = 5.0ï¼‰ï¼Œé€™é€šå¸¸ä»£è¡¨ä»€éº¼æ„æ€ï¼Ÿ",
          options: [
            "å…©çµ„ä¹‹é–“çš„å·®ç•°å¾ˆå°ï¼Œå¯èƒ½æ˜¯å·§åˆ",
            "çµ„å…§çš„å€‹åˆ¥å·®ç•°ï¼ˆé›œè¨Šï¼‰éå¸¸å¤§",
            "è¨Šè™Ÿå¼·éé›œè¨Šï¼Œå…©çµ„ä¹‹é–“å¾ˆå¯èƒ½æœ‰çœŸå¯¦å·®ç•°",
            "è¨ˆç®—éŒ¯èª¤ï¼ŒT å€¼ä¸å¯èƒ½å¤§æ–¼ 1"
          ],
          correctIndex: 2,
          explanation: "æ­£ç¢ºï¼T å€¼è¶Šå¤§ï¼Œä»£è¡¨åˆ†å­ï¼ˆçµ„é–“å·®ç•°/è¨Šè™Ÿï¼‰ç›¸å°æ–¼åˆ†æ¯ï¼ˆæ¨™æº–èª¤/é›œè¨Šï¼‰è¶Šå¤§ï¼Œå·®ç•°è¶Šé¡¯è‘—ã€‚"
        },
        {
          question: "åœ¨å…¶ä»–æ¢ä»¶ä¸è®Šçš„æƒ…æ³ä¸‹ï¼Œå¦‚æœã€Œæ¨£æœ¬æ•¸ (N)ã€è®Šå¤§ï¼ŒT å€¼é€šå¸¸æœƒå¦‚ä½•è®ŠåŒ–ï¼Ÿ",
          options: [
            "T å€¼æœƒè®Šå¤§ï¼ˆæ›´å®¹æ˜“é¡¯è‘—ï¼‰",
            "T å€¼æœƒè®Šå°ï¼ˆæ›´é›£é¡¯è‘—ï¼‰",
            "æ¨£æœ¬æ•¸èˆ‡ T å€¼ç„¡é—œ",
            "T å€¼æœƒè®Šæˆè² æ•¸"
          ],
          correctIndex: 0,
          explanation: "ç­”å°äº†ï¼æ¨£æœ¬æ•¸è¶Šå¤§ï¼Œæ¨™æº–èª¤ï¼ˆåˆ†æ¯ï¼‰æœƒè¶Šå°ï¼Œä½¿å¾—ç®—å‡ºä¾†çš„ T å€¼è®Šå¤§ã€‚é€™å°±æ˜¯ç‚ºä»€éº¼å¤§æ¨£æœ¬è¼ƒå®¹æ˜“å¾—åˆ°é¡¯è‘—çµæœã€‚"
        },
        {
          question: "æˆ‘å€‘é€šå¸¸è¨­å®šçš„é¡¯è‘—æ°´æº– (Alpha) æ˜¯å¤šå°‘ï¼Ÿ",
          options: [
            "0.50",
            "0.10",
            "0.05",
            "0.0001"
          ],
          correctIndex: 2,
          explanation: "æ­£ç¢ºï¼ç¤¾æœƒç§‘å­¸é€šå¸¸ä»¥ p < .05 ä½œç‚ºæ‹’çµ•è™›ç„¡å‡è¨­çš„é–€æª»ã€‚"
        }
      ]
    };

    // --- ä¸»ç¨‹å¼ ---
    function InteractiveTTest() {
      const [activeTab, setActiveTab] = useState('concept'); // concept, simulate, quiz
      
      // Simulation State
      const [diff, setDiff] = useState(2);   // Mean Difference (Signal)
      const [stdDev, setStdDev] = useState(3); // Standard Deviation (Noise)
      const [n, setN] = useState(30);        // Sample Size
      
      // Calculated Values
      const tValue = useMemo(() => calculateT(10 + diff, 10, stdDev, n), [diff, stdDev, n]);
      const isSignificant = Math.abs(tValue) > 2.0; // Approximate threshold for teaching

      // Quiz State
      const [quizState, setQuizState] = useState({});
      const [showConfetti, setShowConfetti] = useState(false);

      const handleQuizAnswer = (qIndex, optionIndex) => {
        const isCorrect = optionIndex === PAGE_DATA.quizzes[qIndex].correctIndex;
        setQuizState(prev => ({
          ...prev,
          [qIndex]: { selected: optionIndex, isCorrect }
        }));
        
        if (isCorrect && Object.keys(quizState).length + 1 === PAGE_DATA.quizzes.length) {
          setShowConfetti(true);
          setTimeout(() => setShowConfetti(false), 3000);
        }
      };

      return (
        <div className="min-h-screen bg-slate-50 text-slate-800 font-sans selection:bg-teal-100 selection:text-teal-900 p-2">
          {/* Navigation */}
          <nav className="sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-slate-200 shadow-sm rounded-xl mb-4">
            <div className="max-w-5xl mx-auto px-4 py-2">
              <div className="flex flex-col md:flex-row justify-between items-center gap-4">
                <div className="flex items-center gap-2">
                  <div className="w-8 h-8 bg-teal-600 rounded-lg flex items-center justify-center text-white font-bold shadow-lg shadow-teal-200">
                    t
                  </div>
                  <span className="font-bold text-xl tracking-tight text-slate-900">åŸºç¤çµ±è¨ˆï¼šTæª¢å®š</span>
                </div>
                
                {/* Tabs */}
                <div className="flex space-x-1 bg-slate-100 p-1 rounded-xl">
                  {[
                    { id: 'concept', label: 'åŸç†æ¦‚å¿µ', icon: Icons.BookOpen },
                    { id: 'simulate', label: 'äº’å‹•æ¨¡æ“¬', icon: Icons.Activity },
                    { id: 'quiz', label: 'éš¨å ‚æ¸¬é©—', icon: Icons.HelpCircle }
                  ].map((tab) => (
                    <button
                      key={tab.id}
                      onClick={() => setActiveTab(tab.id)}
                      className={`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${
                        activeTab === tab.id
                          ? 'bg-white text-teal-600 shadow-sm ring-1 ring-black/5'
                          : 'text-slate-500 hover:text-slate-700 hover:bg-slate-200/50'
                      }`}
                    >
                      <tab.icon />
                      <span className="hidden sm:inline">{tab.label}</span>
                    </button>
                  ))}
                </div>
              </div>
            </div>
          </nav>

          <main className="max-w-4xl mx-auto px-2 sm:px-6 py-4">
            
            {/* Introduction Header */}
            <div className="mb-8 text-center">
              <h1 className="text-3xl font-extrabold text-slate-900 mb-3">
                {PAGE_DATA.title}
              </h1>
              <p className="text-lg text-slate-600 max-w-2xl mx-auto">
                {PAGE_DATA.intro}
              </p>
            </div>

            {/* TAB 1: CONCEPT */}
            {activeTab === 'concept' && (
              <div className="space-y-6">
                {/* Concept Cards */}
                <div className="grid md:grid-cols-3 gap-6">
                  {PAGE_DATA.concepts.map((item, idx) => (
                    <div key={idx} className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:border-teal-200 transition-colors">
                      <div className="w-10 h-10 bg-teal-50 text-teal-600 rounded-full flex items-center justify-center mb-4 font-bold text-lg">
                        {idx + 1}
                      </div>
                      <h3 className="font-bold text-lg text-slate-800 mb-2">{item.title}</h3>
                      <p className="text-slate-600 text-sm leading-relaxed whitespace-pre-line">
                        {item.content}
                      </p>
                    </div>
                  ))}
                </div>

                {/* Formula Visualization */}
                <div className="bg-white rounded-2xl p-8 border border-slate-200 shadow-sm mt-8">
                  <h3 className="text-xl font-bold text-center text-slate-800 mb-6">è§£æ§‹ T å€¼å…¬å¼</h3>
                  <div className="flex flex-col items-center justify-center text-2xl font-serif">
                    <div className="flex items-center gap-4">
                      <span className="font-bold italic text-teal-700">t</span>
                      <span>=</span>
                      <div className="flex flex-col items-center">
                        <div className="border-b-2 border-slate-800 pb-2 px-4 text-center text-blue-600 font-bold">
                          çµ„é–“å¹³å‡æ•¸å·®ç•° (è¨Šè™Ÿ)
                        </div>
                        <div className="pt-2 px-4 text-center text-orange-600 font-bold">
                          æ¨™æº–èª¤ (é›œè¨Š)
                        </div>
                      </div>
                    </div>
                    
                    <div className="mt-8 grid md:grid-cols-2 gap-8 w-full text-base font-sans">
                      <div className="bg-blue-50 p-4 rounded-xl border border-blue-100">
                        <h4 className="font-bold text-blue-800 mb-2">åˆ†å­ï¼šè¨Šè™Ÿ (Signal)</h4>
                        <p className="text-blue-600">æˆ‘å€‘å¸Œæœ›é€™å€‹æ•¸å€¼è¶Šå¤§è¶Šå¥½ã€‚ä»£è¡¨å¯¦é©—çµ„ï¼ˆå¦‚ï¼šæ¥å—è«®å•†ï¼‰æ¯”èµ·æ§åˆ¶çµ„ï¼ˆç„¡è«®å•†ï¼‰æœ‰æ˜é¡¯çš„æ”¹è®Šã€‚</p>
                      </div>
                      <div className="bg-orange-50 p-4 rounded-xl border border-orange-100">
                        <h4 className="font-bold text-orange-800 mb-2">åˆ†æ¯ï¼šé›œè¨Š (Noise)</h4>
                        <p className="text-orange-600">é€™æ˜¯ä¾†è‡ªå€‹é«”å·®ç•°æˆ–æ¸¬é‡èª¤å·®çš„å¹²æ“¾ã€‚æ¨£æœ¬æ•¸ (N) è¶Šå¤§ï¼Œé€™å€‹é›œè¨Šæœƒè¶Šå°ï¼ˆå› ç‚ºé™¤ä»¥ Nï¼‰ï¼ŒT å€¼å°±æœƒè®Šå¤§ã€‚</p>
                      </div>
                    </div>
                  </div>
                  <div className="text-center mt-8">
                     <button 
                      onClick={() => setActiveTab('simulate')}
                      className="inline-flex items-center gap-2 bg-teal-600 text-white px-6 py-3 rounded-full font-medium shadow-lg shadow-teal-200 hover:bg-teal-700 transition-colors"
                    >
                      å»å‹•æ‰‹ç©ç©çœ‹å…¬å¼ <Icons.ArrowRight />
                    </button>
                  </div>
                </div>
              </div>
            )}

            {/* TAB 2: SIMULATION */}
            {activeTab === 'simulate' && (
              <div className="grid lg:grid-cols-12 gap-8">
                
                {/* Left: Controls */}
                <div className="lg:col-span-4 space-y-6">
                  <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm">
                    <div className="flex items-center gap-2 mb-4 text-slate-800">
                      <Icons.Sliders className="text-teal-600" />
                      <h3 className="font-bold text-lg">åƒæ•¸è¨­å®š</h3>
                    </div>
                    
                    {/* Slider 1: Difference */}
                    <div className="mb-6">
                      <div className="flex justify-between mb-2">
                        <label className="text-sm font-bold text-blue-700">å…©çµ„å·®ç•° (è¨Šè™Ÿ)</label>
                        <span className="text-sm font-mono bg-blue-100 text-blue-800 px-2 rounded">{diff}</span>
                      </div>
                      <input 
                        type="range" min="0" max="10" step="0.5" 
                        value={diff} onChange={(e) => setDiff(Number(e.target.value))}
                        className="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer accent-blue-600"
                      />
                      <p className="text-xs text-slate-500 mt-1">ä¾‹å¦‚ï¼šå¯¦é©—çµ„æ†‚é¬±åˆ†æ•¸æ¯”æ§åˆ¶çµ„ä½å¤šå°‘ï¼Ÿ</p>
                    </div>

                    {/* Slider 2: SD */}
                    <div className="mb-6">
                      <div className="flex justify-between mb-2">
                        <label className="text-sm font-bold text-orange-700">æ¨™æº–å·® (é›œè¨Š)</label>
                        <span className="text-sm font-mono bg-orange-100 text-orange-800 px-2 rounded">{stdDev}</span>
                      </div>
                      <input 
                        type="range" min="1" max="10" step="0.5" 
                        value={stdDev} onChange={(e) => setStdDev(Number(e.target.value))}
                        className="w-full h-2 bg-orange-200 rounded-lg appearance-none cursor-pointer accent-orange-600"
                      />
                      <p className="text-xs text-slate-500 mt-1">çµ„å…§æˆå“¡çš„åˆ†æ•¸è½å·®æœ‰å¤šå¤§ï¼Ÿ</p>
                    </div>

                    {/* Slider 3: N */}
                    <div className="mb-2">
                      <div className="flex justify-between mb-2">
                        <label className="text-sm font-bold text-teal-700">æ¨£æœ¬æ•¸ (N)</label>
                        <span className="text-sm font-mono bg-teal-100 text-teal-800 px-2 rounded">{n}</span>
                      </div>
                      <input 
                        type="range" min="5" max="100" step="5" 
                        value={n} onChange={(e) => setN(Number(e.target.value))}
                        className="w-full h-2 bg-teal-200 rounded-lg appearance-none cursor-pointer accent-teal-600"
                      />
                      <p className="text-xs text-slate-500 mt-1">æˆ‘å€‘èª¿æŸ¥äº†å¤šå°‘äººï¼Ÿ</p>
                    </div>
                  </div>

                  {/* Result Card */}
                  <div className={`p-6 rounded-2xl border-2 transition-all duration-500 text-center ${
                    isSignificant ? 'bg-green-50 border-green-400' : 'bg-slate-100 border-slate-300'
                  }`}>
                    <h4 className="text-sm font-bold text-slate-500 uppercase tracking-wider mb-2">è¨ˆç®—çµæœ</h4>
                    <div className="text-4xl font-black mb-2 text-slate-800">
                      t = {tValue.toFixed(2)}
                    </div>
                    <div className={`font-bold text-lg ${isSignificant ? 'text-green-700' : 'text-slate-500'}`}>
                      {isSignificant ? "é”åˆ°é¡¯è‘—å·®ç•°ï¼ (p < .05)" : "æœªé”é¡¯è‘—æ°´æº– (p > .05)"}
                    </div>
                    <p className="text-xs mt-2 text-slate-600">
                      {isSignificant 
                        ? "çµè«–ï¼šæˆ‘å€‘å¯ä»¥æ‹’çµ•è™›ç„¡å‡è¨­ï¼Œé€™å…©å€‹åœ˜é«”çœŸçš„ä¸ä¸€æ¨£ã€‚" 
                        : "çµè«–ï¼šå·®ç•°é‚„ä¸å¤ å¤§ï¼Œå¯èƒ½åªæ˜¯æŠ½æ¨£èª¤å·®é€ æˆçš„å·§åˆã€‚"}
                    </p>
                  </div>
                </div>

                {/* Right: Visualization */}
                <div className="lg:col-span-8">
                  <div className="bg-white p-4 sm:p-6 rounded-2xl border border-slate-200 shadow-sm h-full flex flex-col">
                    <div className="flex items-center justify-between mb-4">
                      <h3 className="font-bold text-lg text-slate-800">åˆ†ä½ˆåœ–æ¨¡æ“¬</h3>
                      <div className="flex gap-4 text-xs font-medium">
                        <div className="flex items-center gap-1">
                          <div className="w-3 h-3 bg-slate-400/50 rounded-full"></div> æ§åˆ¶çµ„
                        </div>
                        <div className="flex items-center gap-1">
                          <div className="w-3 h-3 bg-blue-500/50 rounded-full"></div> å¯¦é©—çµ„
                        </div>
                      </div>
                    </div>
                    
                    {/* SVG Graph Area */}
                    <div className="flex-grow relative w-full min-h-[300px] bg-slate-50 rounded-xl overflow-hidden border border-slate-100">
                      <svg viewBox="0 0 400 200" className="w-full h-full absolute inset-0" preserveAspectRatio="none">
                        {/* Grid Lines */}
                        <line x1="0" y1="150" x2="400" y2="150" stroke="#cbd5e1" strokeWidth="2" />
                        <line x1="200" y1="0" x2="200" y2="200" stroke="#e2e8f0" strokeWidth="1" strokeDasharray="4" />

                        {/* Distribution 1 (Control) - Fixed Mean at center-left */}
                        <path 
                          d={generateNormalPath(10, stdDev, [-10, 30], 500)} 
                          fill="rgba(148, 163, 184, 0.4)" 
                          stroke="#64748b" 
                          strokeWidth="2"
                          transform="translate(100, 0) scale(1, 1)" 
                        />
                        
                        {/* Distribution 2 (Experimental) - Moving Mean */}
                        <path 
                          d={generateNormalPath(10 + diff, stdDev, [-10 + diff, 30 + diff], 500)} 
                          fill="rgba(59, 130, 246, 0.4)" 
                          stroke="#2563eb" 
                          strokeWidth="2"
                          transform="translate(100, 0) scale(1, 1)" 
                        />
                        
                        {/* Labels */}
                        <text x="110" y="170" fontSize="10" fill="#64748b" textAnchor="middle">æ§åˆ¶çµ„å¹³å‡</text>
                        <text x={110 + (diff * 10)} y="170" fontSize="10" fill="#2563eb" textAnchor="middle">å¯¦é©—çµ„å¹³å‡</text>
                      </svg>
                    </div>
                    
                    <div className="mt-4 text-sm text-slate-500 bg-blue-50 p-3 rounded-lg border border-blue-100">
                      <span className="font-bold text-blue-800">è§€å¯Ÿé‡é»ï¼š</span>
                      ç•¶å…©å€‹å±±å³°é‡ç–Šè¶Šå°‘ï¼ˆå·®ç•°å¤§æˆ–å±±å³°ç˜¦é«˜ï¼‰ï¼ŒT å€¼å°±è¶Šå¤§ï¼Œè¶Šå®¹æ˜“é”åˆ°é¡¯è‘—ã€‚
                    </div>
                  </div>
                </div>
              </div>
            )}

            {/* TAB 3: QUIZ */}
            {activeTab === 'quiz' && (
              <div className="space-y-6">
                 <div className="bg-teal-50 rounded-xl p-6 border border-teal-100 mb-6 flex gap-4">
                    <div className="bg-teal-100 p-3 rounded-full h-fit">
                      <Icons.HelpCircle className="text-teal-600 w-6 h-6" />
                    </div>
                    <div>
                      <h3 className="font-bold text-teal-900 text-lg">éš¨å ‚æ¸¬é©—</h3>
                      <p className="text-teal-700 mt-1">è©¦è‘—å›ç­”ä»¥ä¸‹å•é¡Œï¼Œç¢ºèªæ‚¨æ˜¯å¦ç†è§£ T æª¢å®šçš„é‚è¼¯ã€‚</p>
                    </div>
                  </div>

                {PAGE_DATA.quizzes.map((quiz, qIndex) => {
                  const state = quizState[qIndex];
                  const isAnswered = state !== undefined;
                  
                  return (
                    <div key={qIndex} className="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                      <div className="p-6 border-b border-slate-100 bg-slate-50/50">
                        <span className="text-xs font-bold text-slate-400 uppercase tracking-wider">Question {qIndex + 1}</span>
                        <h3 className="text-lg font-semibold text-slate-800 mt-2">{quiz.question}</h3>
                      </div>
                      <div className="p-4 space-y-2">
                        {quiz.options.map((option, oIndex) => {
                          let btnClass = "w-full text-left p-4 rounded-xl border-2 transition-all duration-200 flex justify-between items-center ";
                          
                          if (!isAnswered) {
                            btnClass += "border-slate-100 hover:border-teal-200 hover:bg-teal-50 text-slate-600";
                          } else {
                            if (oIndex === quiz.correctIndex) {
                              btnClass += "border-green-500 bg-green-50 text-green-800 font-medium";
                            } else if (state.selected === oIndex && !state.isCorrect) {
                              btnClass += "border-red-300 bg-red-50 text-red-800 opacity-70";
                            } else {
                              btnClass += "border-transparent text-slate-400 opacity-50 cursor-default";
                            }
                          }

                          return (
                            <button
                              key={oIndex}
                              onClick={() => !isAnswered && handleQuizAnswer(qIndex, oIndex)}
                              disabled={isAnswered}
                              className={btnClass}
                            >
                              <span>{option}</span>
                              {isAnswered && oIndex === quiz.correctIndex && <Icons.CheckCircle className="text-green-600" size={20} />}
                              {isAnswered && state.selected === oIndex && !state.isCorrect && <Icons.XCircle className="text-red-500" size={20} />}
                            </button>
                          );
                        })}
                      </div>
                      {isAnswered && (
                        <div className={`p-5 mx-4 mb-4 rounded-xl text-sm ${state.isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                          <p className="font-bold mb-1">{state.isCorrect ? 'ğŸ‰ ç­”å°äº†ï¼' : 'ğŸ’¡ å†æƒ³ä¸€ä¸‹...'}</p>
                          <p>{quiz.explanation}</p>
                        </div>
                      )}
                    </div>
                  );
                })}
                {showConfetti && (
                  <div className="text-center p-4 bg-teal-100 text-teal-800 font-bold rounded-xl animate-pulse">
                    å¤ªæ£’äº†ï¼æ‚¨å·²ç¶“æŒæ¡äº† T æª¢å®šçš„æ ¸å¿ƒè§€å¿µï¼
                  </div>
                )}
              </div>
            )}

          </main>
        </div>
      );
    }

    // æ¸²æŸ“åˆ°é é¢
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<InteractiveTTest />);
  </script>
</body>
</html>
