<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Normal Distribution & Z-Score Interactive</title>
  
  <!-- 1. è¼‰å…¥ Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- 2. è¼‰å…¥ React ç›¸é—œ (æ ¸å¿ƒ) -->
  <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  
  <!-- 3. è¼‰å…¥ Babel (JSX ç·¨è­¯å™¨) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <style>
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    .range-slider::-webkit-slider-thumb {
      -webkit-appearance: none; appearance: none;
      width: 20px; height: 20px;
      border-radius: 50%; background: #0ea5e9; cursor: pointer;
    }
    /* ç°¡å–®çš„å‹•ç•« */
    .fade-in { animation: fadeIn 0.5s ease-in; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo } = React;

    // --- ç°¡æ˜“åœ–ç¤ºçµ„ä»¶ ---
    const Icons = {
      BookOpen: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
      Activity: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>,
      Scale: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="M7 21h10"/><path d="M12 3v18"/><path d="M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"/></svg>,
      HelpCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>,
      CheckCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
      XCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>,
      ArrowRight: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
    };

    // --- æ•¸å­¸è¼”åŠ©å‡½å¼ ---
    const normalPDF = (x, mean, stdDev) => {
      return (1 / (stdDev * Math.sqrt(2 * Math.PI))) * Math.exp(-0.5 * Math.pow((x - mean) / stdDev, 2));
    };

    // --- SVG æ›²ç·šç¹ªè£½çµ„ä»¶ ---
    const NormalCurveSVG = ({ mean, sd, showSDLines = false, highlightZ = null, rangeX = [0, 100] }) => {
      const width = 400;
      const height = 200;
      const padding = 20;
      
      // è¨ˆç®—ç¹ªåœ–è·¯å¾‘
      const points = [];
      const step = (rangeX[1] - rangeX[0]) / 200;
      
      // æ‰¾å‡ºæœ€å¤§ Y å€¼ä»¥é€²è¡Œç¸®æ”¾ (è®“æ›²ç·šé ‚ç«¯ç¸½æ˜¯å›ºå®šé«˜åº¦ï¼Œæ–¹ä¾¿è§€å¯Ÿå½¢ç‹€è®ŠåŒ–)
      // ä½†å¦‚æœæ˜¯ç‚ºäº†æ•™å­¸ã€Œè®Šèƒ–è®Šç˜¦ã€ï¼ŒYè»¸æ‡‰è©²çµ±ä¸€æ¯”ä¾‹æ¯”è¼ƒå¥½ï¼Ÿ
      // é€™è£¡ç‚ºäº†è¦–è¦ºç¾è§€ï¼Œæˆ‘å€‘ä½¿ç”¨ä¸€å€‹åƒè€ƒçš„ peak (sd=5) ä¾†åšç›¸å°ç¸®æ”¾ï¼Œæˆ–è€…å‹•æ…‹ç¸®æ”¾
      // ç‚ºäº†å±•ç¤º SD è®Šå¤§æ›²ç·šè®Šå¹³ï¼Œæˆ‘å€‘æ‡‰è©²å›ºå®š Y è»¸çš„æœ€å¤§å€¼åƒè€ƒé»
      const refMaxY = normalPDF(50, 5, 5); // ä»¥ SD=5 ç‚ºåŸºæº–
      const scaleY = (height - padding * 2) / refMaxY;

      for (let x = rangeX[0]; x <= rangeX[1]; x += step) {
        const y = normalPDF(x, mean, sd);
        // è½‰æ›ç‚º SVG åæ¨™
        const svgX = ((x - rangeX[0]) / (rangeX[1] - rangeX[0])) * width;
        const svgY = height - padding - (y * scaleY); 
        points.push(`${svgX},${svgY}`);
      }
      
      const pathD = `M ${points[0]} L ${points.slice(1).join(' L ')}`;

      // ç¹ªè£½æ¨™æº–å·®å€åŸŸ (Area Filling)
      const getAreaPath = (startSD, endSD) => {
        const startX = mean + startSD * sd;
        const endX = mean + endSD * sd;
        const areaPoints = [];
        
        for (let x = startX; x <= endX; x += step) {
           const y = normalPDF(x, mean, sd);
           const svgX = ((x - rangeX[0]) / (rangeX[1] - rangeX[0])) * width;
           const svgY = height - padding - (y * scaleY);
           areaPoints.push(`${svgX},${svgY}`);
        }
        // Close the path at the bottom
        const bottomStartY = height - padding;
        const bottomStartX = ((startX - rangeX[0]) / (rangeX[1] - rangeX[0])) * width;
        const bottomEndX = ((endX - rangeX[0]) / (rangeX[1] - rangeX[0])) * width;
        
        return `M ${bottomStartX},${bottomStartY} L ${areaPoints.join(' L ')} L ${bottomEndX},${bottomStartY} Z`;
      };

      return (
        <svg viewBox={`0 0 ${width} ${height}`} className="w-full h-full overflow-visible">
          {/* ç¶²æ ¼ç·š */}
          <line x1="0" y1={height - padding} x2={width} y2={height - padding} stroke="#cbd5e1" strokeWidth="2" />
          
          {/* ç¶“é©—æ³•å‰‡å€åŸŸ (SD Lines) */}
          {showSDLines && (
            <>
               {/* 3SD */}
               <path d={getAreaPath(-3, 3)} fill="#bae6fd" opacity="0.3" />
               {/* 2SD */}
               <path d={getAreaPath(-2, 2)} fill="#7dd3fc" opacity="0.4" />
               {/* 1SD */}
               <path d={getAreaPath(-1, 1)} fill="#38bdf8" opacity="0.5" />
               
               {/* SD æ¨™è¨˜ç·š */}
               {[-3, -2, -1, 0, 1, 2, 3].map(k => {
                 const xVal = mean + k * sd;
                 const svgX = ((xVal - rangeX[0]) / (rangeX[1] - rangeX[0])) * width;
                 return (
                   <g key={k}>
                     <line x1={svgX} y1={height - padding} x2={svgX} y2={height - padding + 10} stroke="#64748b" strokeWidth="1" />
                     <text x={svgX} y={height - padding + 25} fontSize="10" textAnchor="middle" fill="#64748b">
                       {k === 0 ? 'Î¼' : (k > 0 ? `+${k}Ïƒ` : `${k}Ïƒ`)}
                     </text>
                   </g>
                 );
               })}
            </>
          )}

          {/* ä¸»æ›²ç·š */}
          <path d={pathD} fill="none" stroke="#0284c7" strokeWidth="3" />
          
          {/* Z-Score Point Highlight */}
          {highlightZ !== null && (
            <g>
              {(() => {
                 // highlightZ is the raw score
                 const svgX = ((highlightZ - rangeX[0]) / (rangeX[1] - rangeX[0])) * width;
                 const y = normalPDF(highlightZ, mean, sd);
                 const svgY = height - padding - (y * scaleY);
                 return (
                   <>
                     <line x1={svgX} y1={svgY} x2={svgX} y2={height-padding} stroke="#ef4444" strokeWidth="2" strokeDasharray="4" />
                     <circle cx={svgX} cy={svgY} r="5" fill="#ef4444" />
                     <text x={svgX} y={svgY - 10} textAnchor="middle" fill="#ef4444" fontWeight="bold" fontSize="12">
                       X={highlightZ}
                     </text>
                   </>
                 )
              })()}
            </g>
          )}
        </svg>
      );
    };

    // --- è³‡æ–™å…§å®¹ ---
    const PAGE_DATA = {
      title: "å¸¸æ…‹åˆ†é…èˆ‡æ¨™æº–åˆ†æ•¸",
      subtitle: "ä¸€æŠŠè¬ç”¨çš„å°º",
      intro: "ä¸–ç•Œä¸Šè¨±å¤šç¾è±¡ï¼ˆå¦‚èº«é«˜ã€æ™ºå•†ã€èª¤å·®ï¼‰éƒ½å‘ˆç¾ã€Œé˜å½¢æ›²ç·šã€ã€‚ç†è§£å¸¸æ…‹åˆ†é…ï¼Œæˆ‘å€‘æ‰èƒ½åˆ¤æ–·ä¸€å€‹æ•¸å€¼æ˜¯ã€Œæ­£å¸¸ã€é‚„æ˜¯ã€Œæ¥µç«¯ã€ï¼›å­¸æœƒæ¨™æº–åˆ†æ•¸ (Z-score)ï¼Œæˆ‘å€‘æ‰èƒ½åœ¨ä¸åŒçš„æ¸¬é©—æ¨™æº–é–“é€²è¡Œå…¬å¹³æ¯”è¼ƒã€‚",
      concepts: [
        { title: "å¸¸æ…‹åˆ†é… (Normal Distribution)", content: "åˆç¨±é˜å½¢æ›²ç·š (Bell Curve)ã€‚\nâ— å°ç¨±æ€§ï¼šä»¥å¹³å‡æ•¸ç‚ºä¸­å¿ƒï¼Œå·¦å³å°ç¨±ã€‚\nâ— é›†ä¸­æ€§ï¼šå¹³å‡æ•¸ = ä¸­ä½æ•¸ = çœ¾æ•¸ã€‚\nâ— æ¼¸è¿‘æ€§ï¼šæ›²ç·šå…©ç«¯ç„¡é™å»¶ä¼¸ä½†ä¸è§¸ç¢° X è»¸ã€‚" },
        { title: "ç¶“é©—æ³•å‰‡ (Empirical Rule)", content: "åœ¨å¸¸æ…‹åˆ†é…ä¸­ï¼Œæ•¸æ“šçš„åˆ†ä½ˆæœ‰å›ºå®šæ¯”ä¾‹ï¼š\nâ— 68% çš„æ•¸æ“šè½åœ¨å¹³å‡æ•¸ Â±1 å€‹æ¨™æº–å·®å…§ã€‚\nâ— 95% çš„æ•¸æ“šè½åœ¨å¹³å‡æ•¸ Â±2 å€‹æ¨™æº–å·®å…§ã€‚\nâ— 99.7% çš„æ•¸æ“šè½åœ¨å¹³å‡æ•¸ Â±3 å€‹æ¨™æº–å·®å…§ã€‚" },
        { title: "æ¨™æº–åˆ†æ•¸ (Z-Score)", content: "å…¬å¼ï¼šZ = (åˆ†æ•¸ - å¹³å‡æ•¸) / æ¨™æº–å·®ã€‚\næ„ç¾©ï¼šé€™å€‹åˆ†æ•¸è·é›¢å¹³å‡æ•¸æœ‰ã€Œå¹¾å€‹æ¨™æº–å·®ã€é ï¼Ÿ\nç”¨é€”ï¼šå°‡ä¸åŒå–®ä½çš„æ•¸æ“šè½‰åŒ–ç‚ºçµ±ä¸€æ¨™æº–ï¼ˆæ¨™æº–åŒ–ï¼‰ï¼Œä»¥ä¾¿æ¯”è¼ƒã€‚" }
      ],
      quizzes: [
        { question: "å¦‚æœä¸€ä½å­¸ç”Ÿçš„æ™ºå•†æ¸¬é©—åˆ†æ•¸ Z åˆ†æ•¸ç‚º +2.0ï¼Œé€™ä»£è¡¨ä»€éº¼æ„æ€ï¼Ÿ", options: ["ä»–çš„æ™ºå•†å‰›å¥½æ˜¯å¹³å‡å€¼", "ä»–çš„æ™ºå•†æ¯”å¹³å‡å€¼é«˜å‡º 2 å€‹æ¨™æº–å·®ï¼Œæ˜¯éå¸¸å„ªç§€çš„æˆç¸¾", "ä»–çš„æ™ºå•†æ˜¯å…¨ç­ç¬¬ 2 å", "è¨ˆç®—éŒ¯èª¤ï¼ŒZ åˆ†æ•¸ä¸èƒ½å¤§æ–¼ 1"], correctIndex: 1, explanation: "æ­£ç¢ºï¼Z=+2 ä»£è¡¨ä½æ–¼å¹³å‡æ•¸å³é‚Š 2 å€‹æ¨™æº–å·®çš„ä½ç½®ï¼Œæ ¹æ“šç¶“é©—æ³•å‰‡ï¼Œé€™å·²ç¶“è´éç´„ 97.7% çš„äººã€‚" },
        { question: "å°æ˜æ•¸å­¸è€ƒ 80 åˆ† (ç­å¹³å‡ 70, SD=10)ï¼Œè‹±æ–‡è€ƒ 85 åˆ† (ç­å¹³å‡ 80, SD=2.5)ã€‚è«‹å•ä»–åœ¨å“ªä¸€ç§‘çš„ç›¸å°è¡¨ç¾æ¯”è¼ƒå¥½ï¼Ÿ", options: ["è‹±æ–‡æ¯”è¼ƒå¥½", "æ•¸å­¸æ¯”è¼ƒå¥½", "å…©ç§‘ä¸€æ¨£å¥½", "ç„¡æ³•æ¯”è¼ƒ"], correctIndex: 0, explanation: "æ­£ç¢ºï¼è®“æˆ‘å€‘ç®— Z åˆ†æ•¸ã€‚æ•¸å­¸ Z = (80-70)/10 = 1.0ï¼›è‹±æ–‡ Z = (85-80)/2.5 = 2.0ã€‚è‹±æ–‡çš„ Z åˆ†æ•¸è¼ƒé«˜ï¼Œä»£è¡¨åœ¨è©²ç¾¤é«”ä¸­ç›¸å°ä½ç½®æ›´å‰é¢ã€‚" },
        { question: "å¸¸æ…‹åˆ†é…æ›²ç·šä¸‹çš„ç¸½é¢ç©æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.5", "1.0", "100", "ç„¡é™å¤§"], correctIndex: 1, explanation: "æ­£ç¢ºï¼æ›²ç·šä¸‹çš„ç¸½é¢ç©ä»£è¡¨ç¸½æ©Ÿç‡ï¼Œä¹Ÿå°±æ˜¯ 1 (æˆ– 100%)ã€‚" }
      ]
    };

    // --- ä¸»ç¨‹å¼ ---
    function InteractiveNormal() {
      const [activeTab, setActiveTab] = useState('concept');
      
      // Tab 2 State: Shape
      const [mean, setMean] = useState(50);
      const [sd, setSd] = useState(10);

      // Tab 3 State: Z-Score
      // Subject A
      const [scoreA, setScoreA] = useState(80);
      const [meanA, setMeanA] = useState(70);
      const [sdA, setSdA] = useState(10);
      // Subject B
      const [scoreB, setScoreB] = useState(85);
      const [meanB, setMeanB] = useState(80);
      const [sdB, setSdB] = useState(2.5);

      const zA = (meanA === 0 && sdA === 0) ? 0 : (scoreA - meanA) / sdA;
      const zB = (meanB === 0 && sdB === 0) ? 0 : (scoreB - meanB) / sdB;

      // Quiz State
      const [quizState, setQuizState] = useState({});
      const [showConfetti, setShowConfetti] = useState(false);

      const handleQuizAnswer = (qIndex, optionIndex) => {
        const isCorrect = optionIndex === PAGE_DATA.quizzes[qIndex].correctIndex;
        setQuizState(prev => ({ ...prev, [qIndex]: { selected: optionIndex, isCorrect } }));
        if (isCorrect && Object.keys(quizState).length + 1 === PAGE_DATA.quizzes.length) {
          setShowConfetti(true);
          setTimeout(() => setShowConfetti(false), 3000);
        }
      };

      return (
        <div className="min-h-screen bg-slate-50 text-slate-800 font-sans p-2">
          {/* Navigation */}
          <nav className="sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-slate-200 shadow-sm rounded-xl mb-4">
            <div className="max-w-5xl mx-auto px-4 py-3">
              <div className="flex flex-col md:flex-row justify-between items-center gap-4">
                <div className="flex items-center gap-2">
                  <div className="w-8 h-8 bg-sky-500 rounded-lg flex items-center justify-center text-white font-bold shadow-lg shadow-sky-200">Z</div>
                  <span className="font-bold text-xl tracking-tight text-slate-900">å¸¸æ…‹åˆ†é…èˆ‡æ¨™æº–åˆ†æ•¸</span>
                </div>
                <div className="flex space-x-1 bg-slate-100 p-1 rounded-xl overflow-x-auto w-full md:w-auto">
                  {[
                    { id: 'concept', label: 'æ ¸å¿ƒæ¦‚å¿µ', icon: Icons.BookOpen },
                    { id: 'curve', label: 'æ¢ç´¢æ›²ç·š', icon: Icons.Activity },
                    { id: 'zscore', label: 'Z åˆ†æ•¸æ¯”è¼ƒ', icon: Icons.Scale },
                    { id: 'quiz', label: 'éš¨å ‚æ¸¬é©—', icon: Icons.HelpCircle }
                  ].map((tab) => (
                    <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`flex-shrink-0 flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${activeTab === tab.id ? 'bg-white text-sky-600 shadow-sm ring-1 ring-black/5' : 'text-slate-500 hover:text-slate-700 hover:bg-slate-200/50'}`}>
                      <tab.icon />
                      <span>{tab.label}</span>
                    </button>
                  ))}
                </div>
              </div>
            </div>
          </nav>

          <main className="max-w-4xl mx-auto px-2 sm:px-6 py-4">
            <div className="mb-8 text-center">
              <h1 className="text-3xl font-extrabold text-slate-900 mb-3">{PAGE_DATA.title}</h1>
              <p className="text-lg text-slate-600 max-w-2xl mx-auto">{PAGE_DATA.intro}</p>
            </div>

            {/* TAB 1: CONCEPT */}
            {activeTab === 'concept' && (
              <div className="space-y-6 fade-in">
                <div className="grid md:grid-cols-3 gap-6">
                  {PAGE_DATA.concepts.map((item, idx) => (
                    <div key={idx} className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:border-sky-200 transition-colors">
                      <div className="flex items-center gap-3 mb-4">
                        <div className="w-10 h-10 bg-sky-50 text-sky-600 rounded-full flex items-center justify-center font-bold text-lg">{idx + 1}</div>
                        <h3 className="font-bold text-lg text-slate-800">{item.title}</h3>
                      </div>
                      <p className="text-slate-600 text-sm leading-relaxed whitespace-pre-line">{item.content}</p>
                    </div>
                  ))}
                </div>
                <div className="text-center mt-8">
                   <button onClick={() => setActiveTab('curve')} className="inline-flex items-center gap-2 bg-sky-600 text-white px-6 py-3 rounded-full font-medium shadow-lg shadow-sky-200 hover:bg-sky-700 transition-colors">
                    é–‹å§‹æ¢ç´¢æ›²ç·š <Icons.ArrowRight />
                  </button>
                </div>
              </div>
            )}

            {/* TAB 2: CURVE EXPLORER */}
            {activeTab === 'curve' && (
              <div className="grid lg:grid-cols-12 gap-8 fade-in">
                <div className="lg:col-span-4 space-y-6">
                  <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm">
                    <div className="flex items-center gap-2 mb-4 text-slate-800">
                      <Icons.Activity />
                      <h3 className="font-bold text-lg">æ›²ç·šæ§åˆ¶å°</h3>
                    </div>
                    
                    <div className="mb-6">
                      <div className="flex justify-between mb-2"><label className="text-sm font-bold text-sky-700">å¹³å‡æ•¸ (Î¼)</label><span className="text-sm font-mono bg-sky-100 text-sky-800 px-2 rounded">{mean}</span></div>
                      <input type="range" min="10" max="90" step="1" value={mean} onChange={(e) => setMean(Number(e.target.value))} className="w-full h-2 bg-sky-200 rounded-lg appearance-none cursor-pointer accent-sky-600" />
                      <p className="text-xs text-slate-500 mt-1">æ§åˆ¶æ›²ç·šçš„ä¸­å¿ƒä½ç½® (å¹³ç§»)ã€‚</p>
                    </div>

                    <div className="mb-2">
                      <div className="flex justify-between mb-2"><label className="text-sm font-bold text-emerald-700">æ¨™æº–å·® (Ïƒ)</label><span className="text-sm font-mono bg-emerald-100 text-emerald-800 px-2 rounded">{sd}</span></div>
                      <input type="range" min="2" max="20" step="0.5" value={sd} onChange={(e) => setSd(Number(e.target.value))} className="w-full h-2 bg-emerald-200 rounded-lg appearance-none cursor-pointer accent-emerald-600" />
                      <p className="text-xs text-slate-500 mt-1">æ§åˆ¶æ›²ç·šçš„èƒ–ç˜¦ (é›¢æ•£)ã€‚æ•¸å€¼è¶Šå¤§è¶Šæ‰å¹³ã€‚</p>
                    </div>
                  </div>
                  
                  <div className="p-4 bg-sky-50 rounded-xl border border-sky-100 text-sm text-sky-800">
                    <strong>ç¶“é©—æ³•å‰‡å°çŸ¥è­˜ï¼š</strong><br/>
                    ç„¡è«–æ›²ç·šè®Šèƒ–è®Šç˜¦ï¼Œå¹³å‡æ•¸ Â±1Ïƒ æ°¸é åŒ…å«ç´„ 68% çš„é¢ç©ï¼ŒÂ±2Ïƒ æ°¸é åŒ…å«ç´„ 95%ã€‚
                  </div>
                </div>

                <div className="lg:col-span-8">
                  <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm h-full flex flex-col">
                     <h3 className="text-center font-bold text-slate-700 mb-4">å¸¸æ…‹åˆ†é…æ›²ç·šèˆ‡ç¶“é©—æ³•å‰‡</h3>
                     <div className="flex-grow min-h-[300px]">
                        <NormalCurveSVG mean={mean} sd={sd} showSDLines={true} rangeX={[0, 100]} />
                     </div>
                     <div className="flex justify-center gap-4 mt-4 text-xs text-slate-500">
                       <div className="flex items-center gap-1"><div className="w-3 h-3 bg-sky-400 opacity-50"></div> Â±1Ïƒ (68%)</div>
                       <div className="flex items-center gap-1"><div className="w-3 h-3 bg-sky-300 opacity-40"></div> Â±2Ïƒ (95%)</div>
                       <div className="flex items-center gap-1"><div className="w-3 h-3 bg-sky-200 opacity-30"></div> Â±3Ïƒ (99.7%)</div>
                     </div>
                  </div>
                </div>
              </div>
            )}

            {/* TAB 3: Z-SCORE COMPARISON */}
            {activeTab === 'zscore' && (
              <div className="grid lg:grid-cols-12 gap-8 fade-in">
                <div className="lg:col-span-5 space-y-6">
                  <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm">
                    <div className="flex items-center gap-2 mb-6 text-slate-800">
                      <Icons.Scale />
                      <h3 className="font-bold text-lg">æˆç¸¾æ¯”è¼ƒè¨ˆç®—æ©Ÿ</h3>
                    </div>

                    {/* Subject A */}
                    <div className="mb-6 pb-6 border-b border-slate-100">
                      <h4 className="font-bold text-blue-600 mb-3 flex items-center gap-2">ç§‘ç›® A (ä¾‹å¦‚ï¼šæ•¸å­¸) <span className="text-xs bg-blue-100 px-2 py-0.5 rounded text-blue-800">Z = {zA.toFixed(2)}</span></h4>
                      <div className="space-y-3">
                        <div className="flex items-center gap-2">
                           <span className="w-12 text-xs font-bold text-slate-500">å¾—åˆ†</span>
                           <input type="number" value={scoreA} onChange={(e) => setScoreA(Number(e.target.value))} className="w-20 border border-slate-300 rounded px-2 py-1 text-sm" />
                           <input type="range" min="0" max="100" value={scoreA} onChange={(e) => setScoreA(Number(e.target.value))} className="flex-grow h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600" />
                        </div>
                        <div className="flex items-center gap-2">
                           <span className="w-12 text-xs font-bold text-slate-500">å¹³å‡</span>
                           <input type="number" value={meanA} onChange={(e) => setMeanA(Number(e.target.value))} className="w-20 border border-slate-300 rounded px-2 py-1 text-sm" />
                           <input type="range" min="0" max="100" value={meanA} onChange={(e) => setMeanA(Number(e.target.value))} className="flex-grow h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-400" />
                        </div>
                        <div className="flex items-center gap-2">
                           <span className="w-12 text-xs font-bold text-slate-500">SD</span>
                           <input type="number" value={sdA} onChange={(e) => setSdA(Number(e.target.value))} className="w-20 border border-slate-300 rounded px-2 py-1 text-sm" />
                           <input type="range" min="1" max="20" value={sdA} onChange={(e) => setSdA(Number(e.target.value))} className="flex-grow h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-300" />
                        </div>
                      </div>
                    </div>

                    {/* Subject B */}
                    <div>
                      <h4 className="font-bold text-orange-600 mb-3 flex items-center gap-2">ç§‘ç›® B (ä¾‹å¦‚ï¼šè‹±æ–‡) <span className="text-xs bg-orange-100 px-2 py-0.5 rounded text-orange-800">Z = {zB.toFixed(2)}</span></h4>
                      <div className="space-y-3">
                        <div className="flex items-center gap-2">
                           <span className="w-12 text-xs font-bold text-slate-500">å¾—åˆ†</span>
                           <input type="number" value={scoreB} onChange={(e) => setScoreB(Number(e.target.value))} className="w-20 border border-slate-300 rounded px-2 py-1 text-sm" />
                           <input type="range" min="0" max="100" value={scoreB} onChange={(e) => setScoreB(Number(e.target.value))} className="flex-grow h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-orange-600" />
                        </div>
                        <div className="flex items-center gap-2">
                           <span className="w-12 text-xs font-bold text-slate-500">å¹³å‡</span>
                           <input type="number" value={meanB} onChange={(e) => setMeanB(Number(e.target.value))} className="w-20 border border-slate-300 rounded px-2 py-1 text-sm" />
                           <input type="range" min="0" max="100" value={meanB} onChange={(e) => setMeanB(Number(e.target.value))} className="flex-grow h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-orange-400" />
                        </div>
                         <div className="flex items-center gap-2">
                           <span className="w-12 text-xs font-bold text-slate-500">SD</span>
                           <input type="number" value={sdB} onChange={(e) => setSdB(Number(e.target.value))} className="w-20 border border-slate-300 rounded px-2 py-1 text-sm" />
                           <input type="range" min="1" max="20" value={sdB} onChange={(e) => setSdB(Number(e.target.value))} className="flex-grow h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-orange-300" />
                        </div>
                      </div>
                    </div>
                  </div>

                  <div className="p-4 bg-slate-800 text-white rounded-xl shadow-lg text-center">
                    <p className="text-sm opacity-80 mb-1">çµè«–ï¼šç›¸å°è¡¨ç¾</p>
                    <h3 className="text-xl font-bold">
                      {zA > zB ? "ç§‘ç›® A è¡¨ç¾è¼ƒä½³" : (zB > zA ? "ç§‘ç›® B è¡¨ç¾è¼ƒä½³" : "å…©ç§‘è¡¨ç¾ä¸€æ¨£")}
                    </h3>
                  </div>
                </div>

                <div className="lg:col-span-7 space-y-6">
                  {/* Visual A */}
                  <div className="bg-white p-4 rounded-xl border border-blue-100 shadow-sm">
                     <div className="text-xs font-bold text-blue-600 mb-2 text-center">ç§‘ç›® A åŸå§‹åˆ†ä½ˆ (Mean={meanA}, SD={sdA})</div>
                     <div className="h-[120px]">
                       <NormalCurveSVG mean={meanA} sd={sdA} showSDLines={false} highlightZ={scoreA} rangeX={[0, 100]} />
                     </div>
                  </div>

                  {/* Visual B */}
                  <div className="bg-white p-4 rounded-xl border border-orange-100 shadow-sm">
                     <div className="text-xs font-bold text-orange-600 mb-2 text-center">ç§‘ç›® B åŸå§‹åˆ†ä½ˆ (Mean={meanB}, SD={sdB})</div>
                     <div className="h-[120px]">
                       <NormalCurveSVG mean={meanB} sd={sdB} showSDLines={false} highlightZ={scoreB} rangeX={[0, 100]} />
                     </div>
                  </div>
                  
                  {/* Standardized Visual */}
                  <div className="bg-slate-100 p-4 rounded-xl border border-slate-200 shadow-inner relative">
                     <div className="text-xs font-bold text-slate-600 mb-2 text-center">æ¨™æº–å¸¸æ…‹åˆ†é… (Mean=0, SD=1)</div>
                     <div className="h-[120px] relative">
                       {/* æˆ‘å€‘æ¨¡æ“¬ä¸€å€‹æ¨™æº–å¸¸æ…‹åˆ†é…ï¼Œé€™è£¡ç”¨ mean=50, sd=10 ä¾†ä»£è¡¨è¦–è¦ºä¸Šçš„ Z=0, Z=1 */}
                       <NormalCurveSVG mean={50} sd={10} showSDLines={true} rangeX={[10, 90]} />
                       
                       {/* Manually place Z points based on the visual scale above (50 is center, 10 is 1SD) */}
                       {/* Point A */}
                       <div className="absolute top-1/2 w-4 h-4 bg-blue-600 rounded-full border-2 border-white shadow flex items-center justify-center text-[8px] text-white font-bold transition-all duration-500"
                            style={{ left: `${((50 + zA * 10) - 10) / 80 * 100}%`, top: '60%' }}>A</div>
                       
                       {/* Point B */}
                       <div className="absolute top-1/2 w-4 h-4 bg-orange-600 rounded-full border-2 border-white shadow flex items-center justify-center text-[8px] text-white font-bold transition-all duration-500"
                            style={{ left: `${((50 + zB * 10) - 10) / 80 * 100}%`, top: '40%' }}>B</div>
                     </div>
                     <div className="text-center text-xs text-slate-500 mt-2">
                       å°‡å…©è€…éƒ½æ›ç®—æˆ Z åˆ†æ•¸å¾Œï¼Œæ”¾åœ¨åŒä¸€æŠŠå°ºä¸Šæ¯”è¼ƒã€‚è¶Šå³é‚Šè¶Šå¥½ã€‚
                     </div>
                  </div>
                </div>
              </div>
            )}

            {/* TAB 4: QUIZ */}
            {activeTab === 'quiz' && (
              <div className="space-y-6 fade-in">
                 <div className="bg-sky-50 rounded-xl p-6 border border-sky-100 mb-6 flex gap-4">
                    <div className="bg-sky-100 p-3 rounded-full h-fit"><Icons.HelpCircle /></div>
                    <div><h3 className="font-bold text-sky-900 text-lg">éš¨å ‚æ¸¬é©—</h3><p className="text-sky-700 mt-1">ç¢ºèªæ‚¨æ˜¯å¦ç†è§£å¸¸æ…‹åˆ†é…èˆ‡ Z åˆ†æ•¸çš„æ¦‚å¿µã€‚</p></div>
                  </div>
                {PAGE_DATA.quizzes.map((quiz, qIndex) => {
                  const state = quizState[qIndex];
                  const isAnswered = state !== undefined;
                  return (
                    <div key={qIndex} className="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                      <div className="p-6 border-b border-slate-100 bg-slate-50/50">
                        <span className="text-xs font-bold text-slate-400 uppercase tracking-wider">Question {qIndex + 1}</span>
                        <h3 className="text-lg font-semibold text-slate-800 mt-2">{quiz.question}</h3>
                      </div>
                      <div className="p-4 space-y-2">
                        {quiz.options.map((option, oIndex) => {
                          let btnClass = "w-full text-left p-4 rounded-xl border-2 transition-all duration-200 flex justify-between items-center ";
                          if (!isAnswered) { btnClass += "border-slate-100 hover:border-sky-200 hover:bg-sky-50 text-slate-600"; } else { if (oIndex === quiz.correctIndex) { btnClass += "border-green-500 bg-green-50 text-green-800 font-medium"; } else if (state.selected === oIndex && !state.isCorrect) { btnClass += "border-red-300 bg-red-50 text-red-800 opacity-70"; } else { btnClass += "border-transparent text-slate-400 opacity-50 cursor-default"; } }
                          return (
                            <button key={oIndex} onClick={() => !isAnswered && handleQuizAnswer(qIndex, oIndex)} disabled={isAnswered} className={btnClass}>
                              <span>{option}</span>
                              {isAnswered && oIndex === quiz.correctIndex && <Icons.CheckCircle />}
                              {isAnswered && state.selected === oIndex && !state.isCorrect && <Icons.XCircle />}
                            </button>
                          );
                        })}
                      </div>
                      {isAnswered && <div className={`p-5 mx-4 mb-4 rounded-xl text-sm ${state.isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}><p className="font-bold mb-1">{state.isCorrect ? 'ğŸ‰ ç­”å°äº†ï¼' : 'ğŸ’¡ å†æƒ³ä¸€ä¸‹...'}</p><p>{quiz.explanation}</p></div>}
                    </div>
                  );
                })}
                {showConfetti && <div className="text-center p-4 bg-sky-100 text-sky-800 font-bold rounded-xl animate-pulse">å¤ªæ£’äº†ï¼æ‚¨å·²ç¶“æŒæ¡äº†é€™äº›çµ±è¨ˆæ¦‚å¿µï¼</div>}
              </div>
            )}
          </main>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<InteractiveNormal />);
  </script>
</body>
</html>
